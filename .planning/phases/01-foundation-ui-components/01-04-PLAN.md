---
phase: 01-foundation-ui-components
plan: "04"
type: execute
wave: 4
depends_on:
  - "01-03"
files_modified:
  - apps/desktop/src/components/ui/settings-dialog.tsx
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Dialog opens as modal centered on screen with overlay"
    - "Two-column layout shows sidebar on left and content area on right"
    - "Content area dynamically renders based on selected sidebar item"
  artifacts:
    - path: "apps/desktop/src/components/ui/settings-dialog.tsx"
      provides: "Main settings dialog with two-column layout"
      exports: ["SettingsDialog"]
  key_links:
    - from: "apps/desktop/src/components/ui/settings-dialog.tsx"
      to: "apps/desktop/src/components/ui/dialog.tsx"
      via: "import"
      pattern: "import.*Dialog.*from.*@/components/ui/dialog"
    - from: "apps/desktop/src/components/ui/settings-dialog.tsx"
      to: "apps/desktop/src/components/ui/settings-sidebar.tsx"
      via: "import"
      pattern: "import.*SettingsSidebar.*from.*@/components/ui/settings-sidebar"
---

<objective>
Build main SettingsDialog component with two-column layout.

Purpose: Create dialog combining sidebar navigation with content area in two-column layout
Output: settings-dialog.tsx with SettingsDialog component
</objective>

<execution_context>
./.opencode/get-shit-done/workflows/execute-plan.md
./.opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@apps/desktop/src/components/ui/dialog.tsx
@apps/desktop/src/components/ui/settings-sidebar.tsx
@apps/desktop/src/views/components/provider-settings.tsx

# Reference provider-settings.tsx line 919 for two-column grid pattern

</context>

<tasks>

<task type="auto">
  <name>DIALOG-01: Create SettingsDialog component</name>
  <files>apps/desktop/src/components/ui/settings-dialog.tsx</files>
  <action>
    Create SettingsDialog component with two-column layout.

    Use these imports:
    - Dialog, DialogOverlay, DialogContent, DialogPortal from "@/components/ui/dialog"
    - SettingsSidebar from "@/components/ui/settings-sidebar"
    - createSignal from "solid-js"
    - Show from "solid-js"
    - cn from "@/utils"

    Props interface:
    ```
    interface SettingsDialogProps {
      open: boolean;
      onOpenChange: (open: boolean) => void;
    }
    ```

    Implementation:
    - Use controlled dialog pattern: open={props.open} onOpenChange={props.onOpenChange}
    - Use createSignal for selectedId state (default: "general")
    - Create content component function that renders based on selectedId

    Use two-column grid pattern from provider-settings.tsx line 919:
    - Container: grid h-[640px] min-h-0 gap-0 md:grid-cols-[1.1fr_1.4fr]
    - Left sidebar: border-r border-border/80, min-h-0, overflow-y-auto
    - Right content: min-h-0, overflow-y-auto, p-6

    DialogContent class: h-[640px] w-[900px] max-w-[90vw] p-0 (override default padding)

    Create stub content for General tab (for now):
    - Use SettingsSection and SettingsRow
    - Add placeholder rows for: Default Model, Thinking Level, Theme, Session Notifications, Completion Sounds, Send Messages, Not Absolutely Right, Strict Privacy
    - Use Select and Switch components from earlier

    Use splitProps for SolidJS reactivity - do NOT destructure props.

    Export: SettingsDialog

  </action>
  <verify>
    File exists at apps/desktop/src/components/ui/settings-dialog.tsx with SettingsDialog export
  </verify>
  <done>
    Dialog opens as modal with two-column layout (sidebar + content)
  </done>
</task>

</tasks>

<verification>
- [ ] Dialog renders centered on screen with overlay
- [ ] Two-column layout shows sidebar and content
- [ ] Sidebar navigation works (items are clickable)
- [ ] Content area exists (stub content visible)
</verification>

<success_criteria>
DIALOG-01: Settings dialog component with two-column layout (sidebar + content)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-ui-components/01-04-SUMMARY.md`
</output>
